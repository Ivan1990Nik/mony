{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ponal\\\\OneDrive\\\\Desktop\\\\program\\\\my-budget-app\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport './App.css';\nimport Header from './components/Header/Header';\nimport IncomeForm from './components/IncomeForm/IncomeForm';\nimport ExpenseForm from './components/ExpenseForm/ExpenseForm';\nimport IncomeList from './components/IncomeList/IncomeList';\nimport ExpenseList from './components/ExpenseList/ExpenseList';\nimport SavingsWallet from './components/SavingsWallet/SavingsWallet';\nimport Calculation from './components/Calculation/Calculation';\nimport History from './components/History/History';\nimport Charts from './components/Charts/Charts'; // Опционально, для графиков\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  // Все состояния\n  const [incomes, setIncomes] = useState([]);\n  const [expenses, setExpenses] = useState([]);\n  const [savings, setSavings] = useState(0);\n  const [wallet, setWallet] = useState(0);\n  const [calculation, setCalculation] = useState(null);\n  const [totalRemaining, setTotalRemaining] = useState(0);\n  const [history, setHistory] = useState([]);\n  const [showHistory, setShowHistory] = useState(false);\n  const [incomeDate, setIncomeDate] = useState('');\n  const [incomeName, setIncomeName] = useState('');\n  const [incomeAmount, setIncomeAmount] = useState('');\n  const [expenseName, setExpenseName] = useState('');\n  const [expenseAmount, setExpenseAmount] = useState('');\n  const [expenseDate, setExpenseDate] = useState('');\n  const [expensePriority, setExpensePriority] = useState('Средний');\n  const [useFromWallet, setUseFromWallet] = useState('');\n\n  // Загрузка из localStorage\n  useEffect(() => {\n    const savedIncomes = JSON.parse(localStorage.getItem('incomes')) || [];\n    const savedExpenses = JSON.parse(localStorage.getItem('expenses')) || [];\n    const savedSavings = parseFloat(localStorage.getItem('savings')) || 0;\n    const savedWallet = parseFloat(localStorage.getItem('wallet')) || 0;\n    const savedHistory = JSON.parse(localStorage.getItem('history')) || [];\n    setIncomes(savedIncomes);\n    setExpenses(savedExpenses);\n    setSavings(savedSavings);\n    setWallet(savedWallet);\n    setHistory(savedHistory);\n  }, []);\n\n  // Сохранение в localStorage\n  useEffect(() => {\n    localStorage.setItem('incomes', JSON.stringify(incomes));\n    localStorage.setItem('expenses', JSON.stringify(expenses));\n    localStorage.setItem('savings', savings.toString());\n    localStorage.setItem('wallet', wallet.toString());\n    localStorage.setItem('history', JSON.stringify(history));\n  }, [incomes, expenses, savings, wallet, history]);\n\n  // Функции\n  const handleAddIncome = e => {\n    e.preventDefault();\n    const amount = parseFloat(incomeAmount);\n    if (amount <= 0 || !incomeDate) return;\n    const roundedAmount = Math.floor(amount / 1000) * 1000;\n    const savingsPart = roundedAmount * 0.1;\n    const walletPart = amount - roundedAmount;\n    const availablePart = roundedAmount * 0.9;\n    setSavings(prev => prev + savingsPart);\n    setWallet(prev => prev + walletPart);\n    setIncomes(prev => [...prev, {\n      date: incomeDate,\n      amount: availablePart,\n      name: incomeName\n    }]);\n    setHistory(prev => [...prev, {\n      description: `Доход: ${availablePart.toFixed(2)} руб. (округлено, 10% в заначку, остаток в кошелёк)`,\n      timestamp: Date.now()\n    }]);\n    setIncomeDate('');\n    setIncomeAmount('');\n    setIncomeName('');\n  };\n  const handleAddExpense = e => {\n    e.preventDefault();\n    const amount = parseFloat(expenseAmount);\n    if (amount <= 0 || !expenseName || !expenseDate) return;\n    setExpenses(prev => [...prev, {\n      name: expenseName,\n      date: expenseDate,\n      amount,\n      priority: expensePriority\n    }]);\n    setHistory(prev => [...prev, {\n      description: `Расход: ${expenseName} - ${amount.toFixed(2)} руб. (приоритет: ${expensePriority})`,\n      timestamp: Date.now()\n    }]);\n    setExpenseName('');\n    setExpenseAmount('');\n    setExpenseDate('');\n    setExpensePriority('Средний');\n  };\n  const handleDeleteIncome = index => {\n    const income = incomes[index];\n    setIncomes(prev => prev.filter((_, i) => i !== index));\n    setHistory(prev => [...prev, {\n      description: `Удалён доход: ${income.amount.toFixed(2)} руб. (${income.date})`,\n      timestamp: Date.now()\n    }]);\n  };\n  const handleDeleteExpense = index => {\n    const expense = expenses[index];\n    setExpenses(prev => prev.filter((_, i) => i !== index));\n    setHistory(prev => [...prev, {\n      description: `Удалён расход: ${expense.name} - ${expense.amount.toFixed(2)} руб. (${expense.date})`,\n      timestamp: Date.now()\n    }]);\n  };\n  const handleDeleteHistory = index => {\n    setHistory(prev => prev.filter((_, i) => i !== index));\n  };\n  const handleResetSavings = () => {\n    setSavings(0);\n    setHistory(prev => [...prev, {\n      description: 'Заначка сброшена',\n      timestamp: Date.now()\n    }]);\n  };\n  const handleResetWallet = () => {\n    setWallet(0);\n    setHistory(prev => [...prev, {\n      description: 'Кошелёк сброшен',\n      timestamp: Date.now()\n    }]);\n  };\n  const calculate = () => {\n    // Проверки (как раньше)\n    const walletUsage = parseFloat(useFromWallet) || 0;\n    if (walletUsage > wallet) {\n      alert('Недостаточно средств в кошельке!');\n      return;\n    }\n\n    // Собираем источники: кошелёк + доходы (сортированные по дате, старые сначала)\n    const sources = [];\n    let walletSource = null; // Отдельный трек для кошелька\n\n    if (walletUsage > 0) {\n      walletSource = {\n        name: 'Кошелёк',\n        remaining: walletUsage,\n        originalAmount: walletUsage,\n        key: 'wallet'\n      };\n      sources.push(walletSource);\n    }\n\n    // Сортировка доходов по дате (старые сначала) + сохраняем ссылку на оригинал для обновления\n    const sortedIncomes = [...incomes].sort((a, b) => new Date(a.date) - new Date(b.date));\n    sortedIncomes.forEach((inc, index) => {\n      const key = `${inc.name}-${inc.date}`; // Уникальный ключ для матчинга\n      sources.push({\n        ...inc,\n        // Копируем свойства оригинала\n        remaining: parseFloat(inc.amount),\n        // Парсим в число!\n        originalAmount: parseFloat(inc.amount),\n        // Парсим в число!\n        key: key,\n        originalIndex: index // Для обновления incomes по индексу\n      });\n    });\n\n    // Сортировка расходов по приоритету + копия для обновления\n    const sortedExpenses = [...expenses].sort((a, b) => {\n      const priorities = {\n        'Высокий': 3,\n        'Средний': 2,\n        'Низкий': 1\n      };\n      return priorities[b.priority] - priorities[a.priority];\n    });\n    const result = [];\n    let totalDeficit = 0;\n    let updatedExpenses = [...expenses]; // Копия для обновления состояния\n\n    for (let i = 0; i < sortedExpenses.length; i++) {\n      const exp = sortedExpenses[i];\n      const expAmount = parseFloat(exp.amount); // Парсим в число для точного сравнения!\n      let expCovered = 0;\n      const coverageDetails = [];\n      for (const source of sources) {\n        if (source.remaining > 0 && expCovered < expAmount) {\n          const needed = expAmount - expCovered;\n          const coverAmount = Math.min(needed, source.remaining);\n          source.remaining -= coverAmount;\n          expCovered += coverAmount;\n          coverageDetails.push({\n            source: source.name,\n            amount: coverAmount\n          });\n        }\n      }\n\n      // Обновляем расход в updatedExpenses (находим по name/date для матчинга)\n      const expKey = `${exp.name}-${exp.date}`;\n      const expIndex = updatedExpenses.findIndex(e => `${e.name}-${e.date}` === expKey);\n      if (expIndex !== -1) {\n        updatedExpenses[expIndex].amount = parseFloat(updatedExpenses[expIndex].amount) - expCovered; // Парсим и уменьшаем\n        if (updatedExpenses[expIndex].amount <= 0) {\n          // Удаляем полностью покрытый расход\n          updatedExpenses.splice(expIndex, 1);\n          i--; // Корректируем индекс\n        }\n      }\n\n      // Формируем строку для result (теперь с парсингом expAmount)\n      if (expCovered >= expAmount) {\n        const detailsStr = coverageDetails.map(d => `${d.source}: ${d.amount.toFixed(2)} руб.`).join(', ');\n        result.push(`${exp.name} (${exp.date}): полностью покрыт (${detailsStr})`);\n      } else {\n        const shortfall = expAmount - expCovered;\n        const detailsStr = coverageDetails.map(d => `${d.source}: ${d.amount.toFixed(2)} руб.`).join(', ');\n        result.push(`${exp.name} (${exp.date}): покрыт частично (${detailsStr}) (не хватает ${shortfall.toFixed(2)} руб.)`);\n        totalDeficit += shortfall;\n      }\n    }\n\n    // Обновляем доходы в состоянии (уменьшаем на использованное)\n    let updatedIncomes = [...incomes];\n    sources.forEach(source => {\n      if (source.key !== 'wallet') {\n        // Пропускаем кошелёк\n        const usedAmount = source.originalAmount - source.remaining;\n        const incomeIndex = updatedIncomes.findIndex(inc => `${inc.name}-${inc.date}` === source.key);\n        if (incomeIndex !== -1 && usedAmount > 0) {\n          updatedIncomes[incomeIndex].amount = parseFloat(updatedIncomes[incomeIndex].amount) - usedAmount; // Парсим и уменьшаем\n          if (updatedIncomes[incomeIndex].amount <= 0) {\n            updatedIncomes.splice(incomeIndex, 1); // Удаляем полностью использованный доход\n          }\n        }\n      }\n    });\n    setIncomes(updatedIncomes); // Обновляем состояние доходов\n\n    // Обновляем расходы\n    setExpenses(updatedExpenses);\n\n    // Обновляем кошелёк: вычитаем реально использованное\n    let walletUsed = 0;\n    if (walletSource) {\n      walletUsed = walletSource.originalAmount - walletSource.remaining;\n    }\n    setWallet(prev => prev - walletUsed);\n\n    // Общий остаток (как раньше)\n    const totalRemaining = sources.reduce((sum, src) => sum + src.remaining, 0);\n    setTotalRemaining(totalRemaining);\n\n    // Добавляем общий дефицит в result\n    if (totalDeficit > 0) {\n      result.push(`Общий дефицит: ${totalDeficit.toFixed(2)} руб.`);\n    }\n    setCalculation(result);\n    setHistory(prev => [...prev, {\n      description: totalRemaining >= 0 ? `Расчёт выполнен. Остаток: ${totalRemaining.toFixed(2)} руб.` : `Расчёт выполнен. Дефицит: ${(-totalRemaining).toFixed(2)} руб.`,\n      timestamp: Date.now()\n    }]);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SavingsWallet, {\n      savings: savings,\n      wallet: wallet,\n      useFromWallet: useFromWallet,\n      setUseFromWallet: setUseFromWallet,\n      onResetSavings: handleResetSavings,\n      onResetWallet: handleResetWallet\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(IncomeForm, {\n      incomeDate: incomeDate,\n      incomeName: incomeName,\n      setIncomeDate: setIncomeDate,\n      incomeAmount: incomeAmount,\n      setIncomeAmount: setIncomeAmount,\n      setIncomeName: setIncomeName,\n      onAddIncome: handleAddIncome\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(IncomeList, {\n      incomes: incomes,\n      onDeleteIncome: handleDeleteIncome\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ExpenseForm, {\n      expenseName: expenseName,\n      setExpenseName: setExpenseName,\n      expenseDate: expenseDate,\n      setExpenseDate: setExpenseDate,\n      expenseAmount: expenseAmount,\n      setExpenseAmount: setExpenseAmount,\n      expensePriority: expensePriority,\n      setExpensePriority: setExpensePriority,\n      onAddExpense: handleAddExpense\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ExpenseList, {\n      expenses: expenses,\n      onDeleteExpense: handleDeleteExpense\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Calculation, {\n      incomes: incomes // Добавлено\n      ,\n      expenses: expenses // Добавлено\n      ,\n      onCalculate: calculate,\n      calculation: calculation,\n      totalRemaining: totalRemaining\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(History, {\n      history: history,\n      showHistory: showHistory,\n      setShowHistory: setShowHistory,\n      onDeleteHistory: handleDeleteHistory\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Charts, {\n      incomes: incomes,\n      expenses: expenses\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 246,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"IrGS4PFJwAAwz5zjj3x/2Ywe8AQ=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","Header","IncomeForm","ExpenseForm","IncomeList","ExpenseList","SavingsWallet","Calculation","History","Charts","jsxDEV","_jsxDEV","App","_s","incomes","setIncomes","expenses","setExpenses","savings","setSavings","wallet","setWallet","calculation","setCalculation","totalRemaining","setTotalRemaining","history","setHistory","showHistory","setShowHistory","incomeDate","setIncomeDate","incomeName","setIncomeName","incomeAmount","setIncomeAmount","expenseName","setExpenseName","expenseAmount","setExpenseAmount","expenseDate","setExpenseDate","expensePriority","setExpensePriority","useFromWallet","setUseFromWallet","savedIncomes","JSON","parse","localStorage","getItem","savedExpenses","savedSavings","parseFloat","savedWallet","savedHistory","setItem","stringify","toString","handleAddIncome","e","preventDefault","amount","roundedAmount","Math","floor","savingsPart","walletPart","availablePart","prev","date","name","description","toFixed","timestamp","Date","now","handleAddExpense","priority","handleDeleteIncome","index","income","filter","_","i","handleDeleteExpense","expense","handleDeleteHistory","handleResetSavings","handleResetWallet","calculate","walletUsage","alert","sources","walletSource","remaining","originalAmount","key","push","sortedIncomes","sort","a","b","forEach","inc","originalIndex","sortedExpenses","priorities","result","totalDeficit","updatedExpenses","length","exp","expAmount","expCovered","coverageDetails","source","needed","coverAmount","min","expKey","expIndex","findIndex","splice","detailsStr","map","d","join","shortfall","updatedIncomes","usedAmount","incomeIndex","walletUsed","reduce","sum","src","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onResetSavings","onResetWallet","onAddIncome","onDeleteIncome","onAddExpense","onDeleteExpense","onCalculate","onDeleteHistory","_c","$RefreshReg$"],"sources":["C:/Users/ponal/OneDrive/Desktop/program/my-budget-app/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport Header from './components/Header/Header';\nimport IncomeForm from './components/IncomeForm/IncomeForm';\nimport ExpenseForm from './components/ExpenseForm/ExpenseForm';\nimport IncomeList from './components/IncomeList/IncomeList';\nimport ExpenseList from './components/ExpenseList/ExpenseList';\nimport SavingsWallet from './components/SavingsWallet/SavingsWallet';\nimport Calculation from './components/Calculation/Calculation';\nimport History from './components/History/History';\nimport Charts from './components/Charts/Charts'; // Опционально, для графиков\n\nfunction App() {\n  // Все состояния\n  const [incomes, setIncomes] = useState([]);\n  const [expenses, setExpenses] = useState([]);\n  const [savings, setSavings] = useState(0);\n  const [wallet, setWallet] = useState(0);\n  const [calculation, setCalculation] = useState(null);\n  const [totalRemaining, setTotalRemaining] = useState(0);\n  const [history, setHistory] = useState([]);\n  const [showHistory, setShowHistory] = useState(false);\n  const [incomeDate, setIncomeDate] = useState('');\n  const [incomeName, setIncomeName] = useState('');\n  const [incomeAmount, setIncomeAmount] = useState('');\n  const [expenseName, setExpenseName] = useState('');\n  const [expenseAmount, setExpenseAmount] = useState('');\n  const [expenseDate, setExpenseDate] = useState('');\n  const [expensePriority, setExpensePriority] = useState('Средний');\n  const [useFromWallet, setUseFromWallet] = useState('');\n\n  // Загрузка из localStorage\n  useEffect(() => {\n    const savedIncomes = JSON.parse(localStorage.getItem('incomes')) || [];\n    const savedExpenses = JSON.parse(localStorage.getItem('expenses')) || [];\n    const savedSavings = parseFloat(localStorage.getItem('savings')) || 0;\n    const savedWallet = parseFloat(localStorage.getItem('wallet')) || 0;\n    const savedHistory = JSON.parse(localStorage.getItem('history')) || [];\n    setIncomes(savedIncomes);\n    setExpenses(savedExpenses);\n    setSavings(savedSavings);\n    setWallet(savedWallet);\n    setHistory(savedHistory);\n  }, []);\n\n  // Сохранение в localStorage\n  useEffect(() => {\n    localStorage.setItem('incomes', JSON.stringify(incomes));\n    localStorage.setItem('expenses', JSON.stringify(expenses));\n    localStorage.setItem('savings', savings.toString());\n    localStorage.setItem('wallet', wallet.toString());\n    localStorage.setItem('history', JSON.stringify(history));\n  }, [incomes, expenses, savings, wallet, history]);\n\n  // Функции\n  const handleAddIncome = (e) => {\n    e.preventDefault();\n\n    const amount = parseFloat(incomeAmount);\n    if (amount <= 0 || !incomeDate) return;\n\n    const roundedAmount = Math.floor(amount / 1000) * 1000;\n    const savingsPart = roundedAmount * 0.1;\n    const walletPart = (amount - roundedAmount);\n    const availablePart = roundedAmount * 0.9;\n\n    setSavings(prev => prev + savingsPart);\n    setWallet(prev => prev + walletPart);\n    setIncomes(prev => [...prev, { date: incomeDate, amount: availablePart, name: incomeName }]);\n\n    setHistory(prev => [...prev, { description: `Доход: ${availablePart.toFixed(2)} руб. (округлено, 10% в заначку, остаток в кошелёк)`, timestamp: Date.now() }]);\n\n    setIncomeDate('');\n    setIncomeAmount('');\n    setIncomeName('');\n  };\n\n  const handleAddExpense = (e) => {\n    e.preventDefault();\n    const amount = parseFloat(expenseAmount);\n    if (amount <= 0 || !expenseName || !expenseDate) return;\n\n    setExpenses(prev => [...prev, { name: expenseName, date: expenseDate, amount, priority: expensePriority }]);\n    setHistory(prev => [...prev, { description: `Расход: ${expenseName} - ${amount.toFixed(2)} руб. (приоритет: ${expensePriority})`, timestamp: Date.now() }]);\n\n    setExpenseName('');\n    setExpenseAmount('');\n    setExpenseDate('');\n    setExpensePriority('Средний');\n  };\n\n  const handleDeleteIncome = (index) => {\n    const income = incomes[index];\n    setIncomes(prev => prev.filter((_, i) => i !== index));\n    setHistory(prev => [...prev, { description: `Удалён доход: ${income.amount.toFixed(2)} руб. (${income.date})`, timestamp: Date.now() }]);\n  };\n\n  const handleDeleteExpense = (index) => {\n    const expense = expenses[index];\n    setExpenses(prev => prev.filter((_, i) => i !== index));\n    setHistory(prev => [...prev, { description: `Удалён расход: ${expense.name} - ${expense.amount.toFixed(2)} руб. (${expense.date})`, timestamp: Date.now() }]);\n  };\n\n  const handleDeleteHistory = (index) => {\n    setHistory(prev => prev.filter((_, i) => i !== index));\n  };\n\n  const handleResetSavings = () => {\n    setSavings(0);\n    setHistory(prev => [...prev, { description: 'Заначка сброшена', timestamp: Date.now() }]);\n  };\n\n  const handleResetWallet = () => {\n    setWallet(0);\n    setHistory(prev => [...prev, { description: 'Кошелёк сброшен', timestamp: Date.now() }]);\n  };\n\n  const calculate = () => {\n  // Проверки (как раньше)\n  const walletUsage = parseFloat(useFromWallet) || 0;\n  if (walletUsage > wallet) {\n    alert('Недостаточно средств в кошельке!');\n    return;\n  }\n\n  // Собираем источники: кошелёк + доходы (сортированные по дате, старые сначала)\n  const sources = [];\n  let walletSource = null;  // Отдельный трек для кошелька\n\n  if (walletUsage > 0) {\n    walletSource = { name: 'Кошелёк', remaining: walletUsage, originalAmount: walletUsage, key: 'wallet' };\n    sources.push(walletSource);\n  }\n\n  // Сортировка доходов по дате (старые сначала) + сохраняем ссылку на оригинал для обновления\n  const sortedIncomes = [...incomes].sort((a, b) => new Date(a.date) - new Date(b.date));\n  sortedIncomes.forEach((inc, index) => {\n    const key = `${inc.name}-${inc.date}`;  // Уникальный ключ для матчинга\n    sources.push({ \n      ...inc,  // Копируем свойства оригинала\n      remaining: parseFloat(inc.amount),  // Парсим в число!\n      originalAmount: parseFloat(inc.amount),  // Парсим в число!\n      key: key,\n      originalIndex: index  // Для обновления incomes по индексу\n    });\n  });\n\n  // Сортировка расходов по приоритету + копия для обновления\n  const sortedExpenses = [...expenses].sort((a, b) => {\n    const priorities = { 'Высокий': 3, 'Средний': 2, 'Низкий': 1 };\n    return priorities[b.priority] - priorities[a.priority];\n  });\n\n  const result = [];\n  let totalDeficit = 0;\n  let updatedExpenses = [...expenses];  // Копия для обновления состояния\n\n  for (let i = 0; i < sortedExpenses.length; i++) {\n    const exp = sortedExpenses[i];\n    const expAmount = parseFloat(exp.amount);  // Парсим в число для точного сравнения!\n    let expCovered = 0;\n    const coverageDetails = [];\n\n    for (const source of sources) {\n      if (source.remaining > 0 && expCovered < expAmount) {\n        const needed = expAmount - expCovered;\n        const coverAmount = Math.min(needed, source.remaining);\n        source.remaining -= coverAmount;\n        expCovered += coverAmount;\n        coverageDetails.push({ source: source.name, amount: coverAmount });\n      }\n    }\n\n    // Обновляем расход в updatedExpenses (находим по name/date для матчинга)\n    const expKey = `${exp.name}-${exp.date}`;\n    const expIndex = updatedExpenses.findIndex(e => `${e.name}-${e.date}` === expKey);\n    if (expIndex !== -1) {\n      updatedExpenses[expIndex].amount = parseFloat(updatedExpenses[expIndex].amount) - expCovered;  // Парсим и уменьшаем\n      if (updatedExpenses[expIndex].amount <= 0) {\n        // Удаляем полностью покрытый расход\n        updatedExpenses.splice(expIndex, 1);\n        i--;  // Корректируем индекс\n      }\n    }\n\n    // Формируем строку для result (теперь с парсингом expAmount)\n    if (expCovered >= expAmount) {\n      const detailsStr = coverageDetails.map(d => `${d.source}: ${d.amount.toFixed(2)} руб.`).join(', ');\n      result.push(`${exp.name} (${exp.date}): полностью покрыт (${detailsStr})`);\n    } else {\n      const shortfall = expAmount - expCovered;\n      const detailsStr = coverageDetails.map(d => `${d.source}: ${d.amount.toFixed(2)} руб.`).join(', ');\n      result.push(`${exp.name} (${exp.date}): покрыт частично (${detailsStr}) (не хватает ${shortfall.toFixed(2)} руб.)`);\n      totalDeficit += shortfall;\n    }\n  }\n\n  // Обновляем доходы в состоянии (уменьшаем на использованное)\n  let updatedIncomes = [...incomes];\n  sources.forEach(source => {\n    if (source.key !== 'wallet') {  // Пропускаем кошелёк\n      const usedAmount = source.originalAmount - source.remaining;\n      const incomeIndex = updatedIncomes.findIndex(inc => \n        `${inc.name}-${inc.date}` === source.key\n      );\n      if (incomeIndex !== -1 && usedAmount > 0) {\n        updatedIncomes[incomeIndex].amount = parseFloat(updatedIncomes[incomeIndex].amount) - usedAmount;  // Парсим и уменьшаем\n        if (updatedIncomes[incomeIndex].amount <= 0) {\n          updatedIncomes.splice(incomeIndex, 1);  // Удаляем полностью использованный доход\n        }\n      }\n    }\n  });\n  setIncomes(updatedIncomes);  // Обновляем состояние доходов\n\n  // Обновляем расходы\n  setExpenses(updatedExpenses);\n\n  // Обновляем кошелёк: вычитаем реально использованное\n  let walletUsed = 0;\n  if (walletSource) {\n    walletUsed = walletSource.originalAmount - walletSource.remaining;\n  }\n  setWallet(prev => prev - walletUsed);\n\n  // Общий остаток (как раньше)\n  const totalRemaining = sources.reduce((sum, src) => sum + src.remaining, 0);\n  setTotalRemaining(totalRemaining);\n\n  // Добавляем общий дефицит в result\n  if (totalDeficit > 0) {\n    result.push(`Общий дефицит: ${totalDeficit.toFixed(2)} руб.`);\n  }\n\n  setCalculation(result);\n  setHistory(prev => [...prev, { \n    description: totalRemaining >= 0 \n      ? `Расчёт выполнен. Остаток: ${totalRemaining.toFixed(2)} руб.` \n      : `Расчёт выполнен. Дефицит: ${(-totalRemaining).toFixed(2)} руб.`, \n    timestamp: Date.now() \n  }]);\n};\n\n\n  return (\n    <div className=\"App\">\n      <Header />\n      <SavingsWallet\n        savings={savings}\n        wallet={wallet}\n        useFromWallet={useFromWallet}\n        setUseFromWallet={setUseFromWallet}\n        onResetSavings={handleResetSavings}\n        onResetWallet={handleResetWallet}\n      />\n      <IncomeForm\n        incomeDate={incomeDate}\n        incomeName={incomeName}\n        setIncomeDate={setIncomeDate}\n        incomeAmount={incomeAmount}\n        setIncomeAmount={setIncomeAmount}\n        setIncomeName={setIncomeName}\n        onAddIncome={handleAddIncome}\n      />\n      <IncomeList incomes={incomes} onDeleteIncome={handleDeleteIncome} />\n      <ExpenseForm\n        expenseName={expenseName}\n        setExpenseName={setExpenseName}\n        expenseDate={expenseDate}\n        setExpenseDate={setExpenseDate}\n        expenseAmount={expenseAmount}\n        setExpenseAmount={setExpenseAmount}\n        expensePriority={expensePriority}\n        setExpensePriority={setExpensePriority}\n        onAddExpense={handleAddExpense}\n      />\n      <ExpenseList expenses={expenses} onDeleteExpense={handleDeleteExpense} />\n      <Calculation\n        incomes={incomes}  // Добавлено\n        expenses={expenses}  // Добавлено\n        onCalculate={calculate}\n        calculation={calculation}\n        totalRemaining={totalRemaining}\n      />\n      <History\n        history={history}\n        showHistory={showHistory}\n        setShowHistory={setShowHistory}\n        onDeleteHistory={handleDeleteHistory}\n      />\n      <Charts incomes={incomes} expenses={expenses} />\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}