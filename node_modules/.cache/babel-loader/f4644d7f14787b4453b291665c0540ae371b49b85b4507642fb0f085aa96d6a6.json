{"ast":null,"code":"import _objectSpread from\"C:/Users/ponal/OneDrive/Desktop/program/my-budget-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import'./App.css';import Header from'./components/Header/Header';import IncomeForm from'./components/IncomeForm/IncomeForm';import ExpenseForm from'./components/ExpenseForm/ExpenseForm';import IncomeList from'./components/IncomeList/IncomeList';import ExpenseList from'./components/ExpenseList/ExpenseList';import SavingsWallet from'./components/SavingsWallet/SavingsWallet';import Calculation from'./components/Calculation/Calculation';import History from'./components/History/History';import Charts from'./components/Charts/Charts';// Опционально, для графиков\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){// Все состояния\nconst[incomes,setIncomes]=useState([]);const[expenses,setExpenses]=useState([]);const[savings,setSavings]=useState(0);const[wallet,setWallet]=useState(0);const[calculation,setCalculation]=useState(null);const[totalRemaining,setTotalRemaining]=useState(0);const[history,setHistory]=useState([]);const[showHistory,setShowHistory]=useState(false);const[incomeDate,setIncomeDate]=useState('');const[incomeName,setIncomeName]=useState('');const[incomeAmount,setIncomeAmount]=useState('');const[expenseName,setExpenseName]=useState('');const[expenseAmount,setExpenseAmount]=useState('');const[expenseDate,setExpenseDate]=useState('');const[expensePriority,setExpensePriority]=useState('Средний');const[useFromWallet,setUseFromWallet]=useState('');// Загрузка из localStorage\nuseEffect(()=>{const savedIncomes=JSON.parse(localStorage.getItem('incomes'))||[];const savedExpenses=JSON.parse(localStorage.getItem('expenses'))||[];const savedSavings=parseFloat(localStorage.getItem('savings'))||0;const savedWallet=parseFloat(localStorage.getItem('wallet'))||0;const savedHistory=JSON.parse(localStorage.getItem('history'))||[];setIncomes(savedIncomes);setExpenses(savedExpenses);setSavings(savedSavings);setWallet(savedWallet);setHistory(savedHistory);},[]);// Сохранение в localStorage\nuseEffect(()=>{localStorage.setItem('incomes',JSON.stringify(incomes));localStorage.setItem('expenses',JSON.stringify(expenses));localStorage.setItem('savings',savings.toString());localStorage.setItem('wallet',wallet.toString());localStorage.setItem('history',JSON.stringify(history));},[incomes,expenses,savings,wallet,history]);// Функции\nconst handleAddIncome=e=>{e.preventDefault();const amount=parseFloat(incomeAmount);if(amount<=0||!incomeDate)return;const roundedAmount=Math.floor(amount/1000)*1000;const savingsPart=roundedAmount*0.1;const walletPart=amount-roundedAmount;const availablePart=roundedAmount*0.9;setSavings(prev=>prev+savingsPart);setWallet(prev=>prev+walletPart);setIncomes(prev=>[...prev,{date:incomeDate,amount:availablePart,name:incomeName}]);setHistory(prev=>[...prev,{description:\"\\u0414\\u043E\\u0445\\u043E\\u0434: \".concat(availablePart.toFixed(2),\" \\u0440\\u0443\\u0431. (\\u043E\\u043A\\u0440\\u0443\\u0433\\u043B\\u0435\\u043D\\u043E, 10% \\u0432 \\u0437\\u0430\\u043D\\u0430\\u0447\\u043A\\u0443, \\u043E\\u0441\\u0442\\u0430\\u0442\\u043E\\u043A \\u0432 \\u043A\\u043E\\u0448\\u0435\\u043B\\u0451\\u043A)\"),timestamp:Date.now()}]);setIncomeDate('');setIncomeAmount('');setIncomeName('');};const handleAddExpense=e=>{e.preventDefault();const amount=parseFloat(expenseAmount);if(amount<=0||!expenseName||!expenseDate)return;setExpenses(prev=>[...prev,{name:expenseName,date:expenseDate,amount,priority:expensePriority}]);setHistory(prev=>[...prev,{description:\"\\u0420\\u0430\\u0441\\u0445\\u043E\\u0434: \".concat(expenseName,\" - \").concat(amount.toFixed(2),\" \\u0440\\u0443\\u0431. (\\u043F\\u0440\\u0438\\u043E\\u0440\\u0438\\u0442\\u0435\\u0442: \").concat(expensePriority,\")\"),timestamp:Date.now()}]);setExpenseName('');setExpenseAmount('');setExpenseDate('');setExpensePriority('Средний');};const handleDeleteIncome=index=>{const income=incomes[index];setIncomes(prev=>prev.filter((_,i)=>i!==index));setHistory(prev=>[...prev,{description:\"\\u0423\\u0434\\u0430\\u043B\\u0451\\u043D \\u0434\\u043E\\u0445\\u043E\\u0434: \".concat(income.amount.toFixed(2),\" \\u0440\\u0443\\u0431. (\").concat(income.date,\")\"),timestamp:Date.now()}]);};const handleDeleteExpense=index=>{const expense=expenses[index];setExpenses(prev=>prev.filter((_,i)=>i!==index));setHistory(prev=>[...prev,{description:\"\\u0423\\u0434\\u0430\\u043B\\u0451\\u043D \\u0440\\u0430\\u0441\\u0445\\u043E\\u0434: \".concat(expense.name,\" - \").concat(expense.amount.toFixed(2),\" \\u0440\\u0443\\u0431. (\").concat(expense.date,\")\"),timestamp:Date.now()}]);};const handleDeleteHistory=index=>{setHistory(prev=>prev.filter((_,i)=>i!==index));};const handleResetSavings=()=>{setSavings(0);setHistory(prev=>[...prev,{description:'Заначка сброшена',timestamp:Date.now()}]);};const handleResetWallet=()=>{setWallet(0);setHistory(prev=>[...prev,{description:'Кошелёк сброшен',timestamp:Date.now()}]);};const calculate=()=>{// Проверки (как раньше)\nconst walletUsage=parseFloat(useFromWallet)||0;if(walletUsage>wallet){alert('Недостаточно средств в кошельке!');return;}// Собираем источники: кошелёк + доходы (сортированные по дате, старые сначала)\nconst sources=[];let walletSource=null;// Отдельный трек для кошелька\nif(walletUsage>0){walletSource={name:'Кошелёк',remaining:walletUsage,originalAmount:walletUsage,key:'wallet'};sources.push(walletSource);}// Сортировка доходов по дате (старые сначала) + сохраняем ссылку на оригинал для обновления\nconst sortedIncomes=[...incomes].sort((a,b)=>new Date(a.date)-new Date(b.date));sortedIncomes.forEach((inc,index)=>{const key=\"\".concat(inc.name,\"-\").concat(inc.date);// Уникальный ключ для матчинга\nsources.push(_objectSpread(_objectSpread({},inc),{},{// Копируем свойства оригинала\nremaining:parseFloat(inc.amount),// Парсим в число!\noriginalAmount:parseFloat(inc.amount),// Парсим в число!\nkey:key,originalIndex:index// Для обновления incomes по индексу\n}));});// Сортировка расходов по приоритету + копия для обновления\nconst sortedExpenses=[...expenses].sort((a,b)=>{const priorities={'Высокий':3,'Средний':2,'Низкий':1};return priorities[b.priority]-priorities[a.priority];});const result=[];let totalDeficit=0;let updatedExpenses=[...expenses];// Копия для обновления состояния\nfor(let i=0;i<sortedExpenses.length;i++){const exp=sortedExpenses[i];const expAmount=parseFloat(exp.amount);// Парсим в число для точного сравнения!\nlet expCovered=0;const coverageDetails=[];for(const source of sources){if(source.remaining>0&&expCovered<expAmount){const needed=expAmount-expCovered;const coverAmount=Math.min(needed,source.remaining);source.remaining-=coverAmount;expCovered+=coverAmount;coverageDetails.push({source:source.name,amount:coverAmount});}}// Обновляем расход в updatedExpenses (находим по name/date для матчинга)\nconst expKey=\"\".concat(exp.name,\"-\").concat(exp.date);const expIndex=updatedExpenses.findIndex(e=>\"\".concat(e.name,\"-\").concat(e.date)===expKey);if(expIndex!==-1){updatedExpenses[expIndex].amount=parseFloat(updatedExpenses[expIndex].amount)-expCovered;// Парсим и уменьшаем\nif(updatedExpenses[expIndex].amount<=0){// Удаляем полностью покрытый расход\nupdatedExpenses.splice(expIndex,1);i--;// Корректируем индекс\n}}// Формируем строку для result (теперь с парсингом expAmount)\nif(expCovered>=expAmount){const detailsStr=coverageDetails.map(d=>\"\".concat(d.source,\": \").concat(d.amount.toFixed(2),\" \\u0440\\u0443\\u0431.\")).join(', ');result.push(\"\".concat(exp.name,\" (\").concat(exp.date,\"): \\u043F\\u043E\\u043B\\u043D\\u043E\\u0441\\u0442\\u044C\\u044E \\u043F\\u043E\\u043A\\u0440\\u044B\\u0442 (\").concat(detailsStr,\")\"));}else{const shortfall=expAmount-expCovered;const detailsStr=coverageDetails.map(d=>\"\".concat(d.source,\": \").concat(d.amount.toFixed(2),\" \\u0440\\u0443\\u0431.\")).join(', ');result.push(\"\".concat(exp.name,\" (\").concat(exp.date,\"): \\u043F\\u043E\\u043A\\u0440\\u044B\\u0442 \\u0447\\u0430\\u0441\\u0442\\u0438\\u0447\\u043D\\u043E (\").concat(detailsStr,\") (\\u043D\\u0435 \\u0445\\u0432\\u0430\\u0442\\u0430\\u0435\\u0442 \").concat(shortfall.toFixed(2),\" \\u0440\\u0443\\u0431.)\"));totalDeficit+=shortfall;}}// Обновляем доходы в состоянии (уменьшаем на использованное)\nlet updatedIncomes=[...incomes];sources.forEach(source=>{if(source.key!=='wallet'){// Пропускаем кошелёк\nconst usedAmount=source.originalAmount-source.remaining;const incomeIndex=updatedIncomes.findIndex(inc=>\"\".concat(inc.name,\"-\").concat(inc.date)===source.key);if(incomeIndex!==-1&&usedAmount>0){updatedIncomes[incomeIndex].amount=parseFloat(updatedIncomes[incomeIndex].amount)-usedAmount;// Парсим и уменьшаем\nif(updatedIncomes[incomeIndex].amount<=0){updatedIncomes.splice(incomeIndex,1);// Удаляем полностью использованный доход\n}}}});setIncomes(updatedIncomes);// Обновляем состояние доходов\n// Обновляем расходы\nsetExpenses(updatedExpenses);// Обновляем кошелёк: вычитаем реально использованное\nlet walletUsed=0;if(walletSource){walletUsed=walletSource.originalAmount-walletSource.remaining;}setWallet(prev=>prev-walletUsed);// Общий остаток (как раньше)\nconst totalRemaining=sources.reduce((sum,src)=>sum+src.remaining,0);setTotalRemaining(totalRemaining);// Добавляем общий дефицит в result\nif(totalDeficit>0){result.push(\"\\u041E\\u0431\\u0449\\u0438\\u0439 \\u0434\\u0435\\u0444\\u0438\\u0446\\u0438\\u0442: \".concat(totalDeficit.toFixed(2),\" \\u0440\\u0443\\u0431.\"));}setCalculation(result);setHistory(prev=>[...prev,{description:totalRemaining>=0?\"\\u0420\\u0430\\u0441\\u0447\\u0451\\u0442 \\u0432\\u044B\\u043F\\u043E\\u043B\\u043D\\u0435\\u043D. \\u041E\\u0441\\u0442\\u0430\\u0442\\u043E\\u043A: \".concat(totalRemaining.toFixed(2),\" \\u0440\\u0443\\u0431.\"):\"\\u0420\\u0430\\u0441\\u0447\\u0451\\u0442 \\u0432\\u044B\\u043F\\u043E\\u043B\\u043D\\u0435\\u043D. \\u0414\\u0435\\u0444\\u0438\\u0446\\u0438\\u0442: \".concat((-totalRemaining).toFixed(2),\" \\u0440\\u0443\\u0431.\"),timestamp:Date.now()}]);};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(SavingsWallet,{savings:savings,wallet:wallet,useFromWallet:useFromWallet,setUseFromWallet:setUseFromWallet,onResetSavings:handleResetSavings,onResetWallet:handleResetWallet}),/*#__PURE__*/_jsx(IncomeForm,{incomeDate:incomeDate,incomeName:incomeName,setIncomeDate:setIncomeDate,incomeAmount:incomeAmount,setIncomeAmount:setIncomeAmount,setIncomeName:setIncomeName,onAddIncome:handleAddIncome}),/*#__PURE__*/_jsx(IncomeList,{incomes:incomes,onDeleteIncome:handleDeleteIncome}),/*#__PURE__*/_jsx(ExpenseForm,{expenseName:expenseName,setExpenseName:setExpenseName,expenseDate:expenseDate,setExpenseDate:setExpenseDate,expenseAmount:expenseAmount,setExpenseAmount:setExpenseAmount,expensePriority:expensePriority,setExpensePriority:setExpensePriority,onAddExpense:handleAddExpense}),/*#__PURE__*/_jsx(ExpenseList,{expenses:expenses,onDeleteExpense:handleDeleteExpense}),/*#__PURE__*/_jsx(Calculation,{incomes:incomes// Добавлено\n,expenses:expenses// Добавлено\n,onCalculate:calculate,calculation:calculation,totalRemaining:totalRemaining}),/*#__PURE__*/_jsx(History,{history:history,showHistory:showHistory,setShowHistory:setShowHistory,onDeleteHistory:handleDeleteHistory}),/*#__PURE__*/_jsx(Charts,{incomes:incomes,expenses:expenses})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","Header","IncomeForm","ExpenseForm","IncomeList","ExpenseList","SavingsWallet","Calculation","History","Charts","jsx","_jsx","jsxs","_jsxs","App","incomes","setIncomes","expenses","setExpenses","savings","setSavings","wallet","setWallet","calculation","setCalculation","totalRemaining","setTotalRemaining","history","setHistory","showHistory","setShowHistory","incomeDate","setIncomeDate","incomeName","setIncomeName","incomeAmount","setIncomeAmount","expenseName","setExpenseName","expenseAmount","setExpenseAmount","expenseDate","setExpenseDate","expensePriority","setExpensePriority","useFromWallet","setUseFromWallet","savedIncomes","JSON","parse","localStorage","getItem","savedExpenses","savedSavings","parseFloat","savedWallet","savedHistory","setItem","stringify","toString","handleAddIncome","e","preventDefault","amount","roundedAmount","Math","floor","savingsPart","walletPart","availablePart","prev","date","name","description","concat","toFixed","timestamp","Date","now","handleAddExpense","priority","handleDeleteIncome","index","income","filter","_","i","handleDeleteExpense","expense","handleDeleteHistory","handleResetSavings","handleResetWallet","calculate","walletUsage","alert","sources","walletSource","remaining","originalAmount","key","push","sortedIncomes","sort","a","b","forEach","inc","_objectSpread","originalIndex","sortedExpenses","priorities","result","totalDeficit","updatedExpenses","length","exp","expAmount","expCovered","coverageDetails","source","needed","coverAmount","min","expKey","expIndex","findIndex","splice","detailsStr","map","d","join","shortfall","updatedIncomes","usedAmount","incomeIndex","walletUsed","reduce","sum","src","className","children","onResetSavings","onResetWallet","onAddIncome","onDeleteIncome","onAddExpense","onDeleteExpense","onCalculate","onDeleteHistory"],"sources":["C:/Users/ponal/OneDrive/Desktop/program/my-budget-app/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport Header from './components/Header/Header';\nimport IncomeForm from './components/IncomeForm/IncomeForm';\nimport ExpenseForm from './components/ExpenseForm/ExpenseForm';\nimport IncomeList from './components/IncomeList/IncomeList';\nimport ExpenseList from './components/ExpenseList/ExpenseList';\nimport SavingsWallet from './components/SavingsWallet/SavingsWallet';\nimport Calculation from './components/Calculation/Calculation';\nimport History from './components/History/History';\nimport Charts from './components/Charts/Charts'; // Опционально, для графиков\n\nfunction App() {\n  // Все состояния\n  const [incomes, setIncomes] = useState([]);\n  const [expenses, setExpenses] = useState([]);\n  const [savings, setSavings] = useState(0);\n  const [wallet, setWallet] = useState(0);\n  const [calculation, setCalculation] = useState(null);\n  const [totalRemaining, setTotalRemaining] = useState(0);\n  const [history, setHistory] = useState([]);\n  const [showHistory, setShowHistory] = useState(false);\n  const [incomeDate, setIncomeDate] = useState('');\n  const [incomeName, setIncomeName] = useState('');\n  const [incomeAmount, setIncomeAmount] = useState('');\n  const [expenseName, setExpenseName] = useState('');\n  const [expenseAmount, setExpenseAmount] = useState('');\n  const [expenseDate, setExpenseDate] = useState('');\n  const [expensePriority, setExpensePriority] = useState('Средний');\n  const [useFromWallet, setUseFromWallet] = useState('');\n\n  // Загрузка из localStorage\n  useEffect(() => {\n    const savedIncomes = JSON.parse(localStorage.getItem('incomes')) || [];\n    const savedExpenses = JSON.parse(localStorage.getItem('expenses')) || [];\n    const savedSavings = parseFloat(localStorage.getItem('savings')) || 0;\n    const savedWallet = parseFloat(localStorage.getItem('wallet')) || 0;\n    const savedHistory = JSON.parse(localStorage.getItem('history')) || [];\n    setIncomes(savedIncomes);\n    setExpenses(savedExpenses);\n    setSavings(savedSavings);\n    setWallet(savedWallet);\n    setHistory(savedHistory);\n  }, []);\n\n  // Сохранение в localStorage\n  useEffect(() => {\n    localStorage.setItem('incomes', JSON.stringify(incomes));\n    localStorage.setItem('expenses', JSON.stringify(expenses));\n    localStorage.setItem('savings', savings.toString());\n    localStorage.setItem('wallet', wallet.toString());\n    localStorage.setItem('history', JSON.stringify(history));\n  }, [incomes, expenses, savings, wallet, history]);\n\n  // Функции\n  const handleAddIncome = (e) => {\n    e.preventDefault();\n\n    const amount = parseFloat(incomeAmount);\n    if (amount <= 0 || !incomeDate) return;\n\n    const roundedAmount = Math.floor(amount / 1000) * 1000;\n    const savingsPart = roundedAmount * 0.1;\n    const walletPart = (amount - roundedAmount);\n    const availablePart = roundedAmount * 0.9;\n\n    setSavings(prev => prev + savingsPart);\n    setWallet(prev => prev + walletPart);\n    setIncomes(prev => [...prev, { date: incomeDate, amount: availablePart, name: incomeName }]);\n\n    setHistory(prev => [...prev, { description: `Доход: ${availablePart.toFixed(2)} руб. (округлено, 10% в заначку, остаток в кошелёк)`, timestamp: Date.now() }]);\n\n    setIncomeDate('');\n    setIncomeAmount('');\n    setIncomeName('');\n  };\n\n  const handleAddExpense = (e) => {\n    e.preventDefault();\n    const amount = parseFloat(expenseAmount);\n    if (amount <= 0 || !expenseName || !expenseDate) return;\n\n    setExpenses(prev => [...prev, { name: expenseName, date: expenseDate, amount, priority: expensePriority }]);\n    setHistory(prev => [...prev, { description: `Расход: ${expenseName} - ${amount.toFixed(2)} руб. (приоритет: ${expensePriority})`, timestamp: Date.now() }]);\n\n    setExpenseName('');\n    setExpenseAmount('');\n    setExpenseDate('');\n    setExpensePriority('Средний');\n  };\n\n  const handleDeleteIncome = (index) => {\n    const income = incomes[index];\n    setIncomes(prev => prev.filter((_, i) => i !== index));\n    setHistory(prev => [...prev, { description: `Удалён доход: ${income.amount.toFixed(2)} руб. (${income.date})`, timestamp: Date.now() }]);\n  };\n\n  const handleDeleteExpense = (index) => {\n    const expense = expenses[index];\n    setExpenses(prev => prev.filter((_, i) => i !== index));\n    setHistory(prev => [...prev, { description: `Удалён расход: ${expense.name} - ${expense.amount.toFixed(2)} руб. (${expense.date})`, timestamp: Date.now() }]);\n  };\n\n  const handleDeleteHistory = (index) => {\n    setHistory(prev => prev.filter((_, i) => i !== index));\n  };\n\n  const handleResetSavings = () => {\n    setSavings(0);\n    setHistory(prev => [...prev, { description: 'Заначка сброшена', timestamp: Date.now() }]);\n  };\n\n  const handleResetWallet = () => {\n    setWallet(0);\n    setHistory(prev => [...prev, { description: 'Кошелёк сброшен', timestamp: Date.now() }]);\n  };\n\n  const calculate = () => {\n  // Проверки (как раньше)\n  const walletUsage = parseFloat(useFromWallet) || 0;\n  if (walletUsage > wallet) {\n    alert('Недостаточно средств в кошельке!');\n    return;\n  }\n\n  // Собираем источники: кошелёк + доходы (сортированные по дате, старые сначала)\n  const sources = [];\n  let walletSource = null;  // Отдельный трек для кошелька\n\n  if (walletUsage > 0) {\n    walletSource = { name: 'Кошелёк', remaining: walletUsage, originalAmount: walletUsage, key: 'wallet' };\n    sources.push(walletSource);\n  }\n\n  // Сортировка доходов по дате (старые сначала) + сохраняем ссылку на оригинал для обновления\n  const sortedIncomes = [...incomes].sort((a, b) => new Date(a.date) - new Date(b.date));\n  sortedIncomes.forEach((inc, index) => {\n    const key = `${inc.name}-${inc.date}`;  // Уникальный ключ для матчинга\n    sources.push({ \n      ...inc,  // Копируем свойства оригинала\n      remaining: parseFloat(inc.amount),  // Парсим в число!\n      originalAmount: parseFloat(inc.amount),  // Парсим в число!\n      key: key,\n      originalIndex: index  // Для обновления incomes по индексу\n    });\n  });\n\n  // Сортировка расходов по приоритету + копия для обновления\n  const sortedExpenses = [...expenses].sort((a, b) => {\n    const priorities = { 'Высокий': 3, 'Средний': 2, 'Низкий': 1 };\n    return priorities[b.priority] - priorities[a.priority];\n  });\n\n  const result = [];\n  let totalDeficit = 0;\n  let updatedExpenses = [...expenses];  // Копия для обновления состояния\n\n  for (let i = 0; i < sortedExpenses.length; i++) {\n    const exp = sortedExpenses[i];\n    const expAmount = parseFloat(exp.amount);  // Парсим в число для точного сравнения!\n    let expCovered = 0;\n    const coverageDetails = [];\n\n    for (const source of sources) {\n      if (source.remaining > 0 && expCovered < expAmount) {\n        const needed = expAmount - expCovered;\n        const coverAmount = Math.min(needed, source.remaining);\n        source.remaining -= coverAmount;\n        expCovered += coverAmount;\n        coverageDetails.push({ source: source.name, amount: coverAmount });\n      }\n    }\n\n    // Обновляем расход в updatedExpenses (находим по name/date для матчинга)\n    const expKey = `${exp.name}-${exp.date}`;\n    const expIndex = updatedExpenses.findIndex(e => `${e.name}-${e.date}` === expKey);\n    if (expIndex !== -1) {\n      updatedExpenses[expIndex].amount = parseFloat(updatedExpenses[expIndex].amount) - expCovered;  // Парсим и уменьшаем\n      if (updatedExpenses[expIndex].amount <= 0) {\n        // Удаляем полностью покрытый расход\n        updatedExpenses.splice(expIndex, 1);\n        i--;  // Корректируем индекс\n      }\n    }\n\n    // Формируем строку для result (теперь с парсингом expAmount)\n    if (expCovered >= expAmount) {\n      const detailsStr = coverageDetails.map(d => `${d.source}: ${d.amount.toFixed(2)} руб.`).join(', ');\n      result.push(`${exp.name} (${exp.date}): полностью покрыт (${detailsStr})`);\n    } else {\n      const shortfall = expAmount - expCovered;\n      const detailsStr = coverageDetails.map(d => `${d.source}: ${d.amount.toFixed(2)} руб.`).join(', ');\n      result.push(`${exp.name} (${exp.date}): покрыт частично (${detailsStr}) (не хватает ${shortfall.toFixed(2)} руб.)`);\n      totalDeficit += shortfall;\n    }\n  }\n\n  // Обновляем доходы в состоянии (уменьшаем на использованное)\n  let updatedIncomes = [...incomes];\n  sources.forEach(source => {\n    if (source.key !== 'wallet') {  // Пропускаем кошелёк\n      const usedAmount = source.originalAmount - source.remaining;\n      const incomeIndex = updatedIncomes.findIndex(inc => \n        `${inc.name}-${inc.date}` === source.key\n      );\n      if (incomeIndex !== -1 && usedAmount > 0) {\n        updatedIncomes[incomeIndex].amount = parseFloat(updatedIncomes[incomeIndex].amount) - usedAmount;  // Парсим и уменьшаем\n        if (updatedIncomes[incomeIndex].amount <= 0) {\n          updatedIncomes.splice(incomeIndex, 1);  // Удаляем полностью использованный доход\n        }\n      }\n    }\n  });\n  setIncomes(updatedIncomes);  // Обновляем состояние доходов\n\n  // Обновляем расходы\n  setExpenses(updatedExpenses);\n\n  // Обновляем кошелёк: вычитаем реально использованное\n  let walletUsed = 0;\n  if (walletSource) {\n    walletUsed = walletSource.originalAmount - walletSource.remaining;\n  }\n  setWallet(prev => prev - walletUsed);\n\n  // Общий остаток (как раньше)\n  const totalRemaining = sources.reduce((sum, src) => sum + src.remaining, 0);\n  setTotalRemaining(totalRemaining);\n\n  // Добавляем общий дефицит в result\n  if (totalDeficit > 0) {\n    result.push(`Общий дефицит: ${totalDeficit.toFixed(2)} руб.`);\n  }\n\n  setCalculation(result);\n  setHistory(prev => [...prev, { \n    description: totalRemaining >= 0 \n      ? `Расчёт выполнен. Остаток: ${totalRemaining.toFixed(2)} руб.` \n      : `Расчёт выполнен. Дефицит: ${(-totalRemaining).toFixed(2)} руб.`, \n    timestamp: Date.now() \n  }]);\n};\n\n\n  return (\n    <div className=\"App\">\n      <Header />\n      <SavingsWallet\n        savings={savings}\n        wallet={wallet}\n        useFromWallet={useFromWallet}\n        setUseFromWallet={setUseFromWallet}\n        onResetSavings={handleResetSavings}\n        onResetWallet={handleResetWallet}\n      />\n      <IncomeForm\n        incomeDate={incomeDate}\n        incomeName={incomeName}\n        setIncomeDate={setIncomeDate}\n        incomeAmount={incomeAmount}\n        setIncomeAmount={setIncomeAmount}\n        setIncomeName={setIncomeName}\n        onAddIncome={handleAddIncome}\n      />\n      <IncomeList incomes={incomes} onDeleteIncome={handleDeleteIncome} />\n      <ExpenseForm\n        expenseName={expenseName}\n        setExpenseName={setExpenseName}\n        expenseDate={expenseDate}\n        setExpenseDate={setExpenseDate}\n        expenseAmount={expenseAmount}\n        setExpenseAmount={setExpenseAmount}\n        expensePriority={expensePriority}\n        setExpensePriority={setExpensePriority}\n        onAddExpense={handleAddExpense}\n      />\n      <ExpenseList expenses={expenses} onDeleteExpense={handleDeleteExpense} />\n      <Calculation\n        incomes={incomes}  // Добавлено\n        expenses={expenses}  // Добавлено\n        onCalculate={calculate}\n        calculation={calculation}\n        totalRemaining={totalRemaining}\n      />\n      <History\n        history={history}\n        showHistory={showHistory}\n        setShowHistory={setShowHistory}\n        onDeleteHistory={handleDeleteHistory}\n      />\n      <Charts incomes={incomes} expenses={expenses} />\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}